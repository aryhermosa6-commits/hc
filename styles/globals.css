:root{
  --bg:#070709; --fg:#f2f2f2; --muted:rgba(242,242,242,.72);
  --line:rgba(242,242,242,.12); --accent:#b8ff00; --danger:#ff1744;
  --card:rgba(255,255,255,.04); --shadow: 0 12px 40px rgba(0,0,0,.55);
  /* Controls opacity of noise overlay; adjustable via GrainSlider component */
  --noiseOpacity:.08;
  --radius:16px; --mono: ui-monospace, Menlo, Monaco, Consolas, "Courier New", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}
html,body{padding:0;margin:0;background:var(--bg);color:var(--fg);font-family:var(--sans);}
*{box-sizing:border-box;} a{color:inherit;text-decoration:none;} img{max-width:100%;display:block;}
::selection{background:rgba(184,255,0,.25);}
.container{max-width:1100px;margin:0 auto;padding:20px;}
.grid{display:grid;gap:14px;} .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;}
.badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border:1px solid var(--line);
  border-radius:999px;background:rgba(255,255,255,.03);font-family:var(--mono);font-size:12px;letter-spacing:.06em;}
.badge.ready{border-color:rgba(184,255,0,.35);} .badge.po{border-color:rgba(255,193,7,.35);} .badge.sold{border-color:rgba(255,23,68,.35);}
.card{background:linear-gradient(180deg,var(--card),rgba(255,255,255,.02));border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);}
.cardPad{padding:16px;}
.cardDamage {
  /* Adds irregular clipped edges reminiscent of distressed paper */
  clip-path: polygon(0% 0%, 3% 2%, 10% 0%, 17% 3%, 24% 1%, 33% 4%, 40% 0%, 48% 2%, 55% 1%, 62% 3%, 70% 0%, 78% 2%, 85% 1%, 93% 3%, 100% 0%, 100% 100%, 95% 98%, 90% 100%, 82% 97%, 75% 100%, 67% 96%, 60% 100%, 53% 97%, 46% 100%, 38% 98%, 31% 100%, 23% 97%, 16% 100%, 9% 96%, 4% 100%, 0% 96%);
}

/* Sticker label on product image */
.stickerLabel {
  position: absolute;
  top: 8px;
  left: 8px;
  padding: 4px 6px;
  font-size: 10px;
  font-family: var(--mono);
  background: rgba(255,255,255,0.08);
  color: var(--accent);
  border: 1px solid var(--line);
  border-radius: 6px;
  text-transform: uppercase;
  pointer-events: none;
  z-index: 4;
}

/* Merch tag in bottom-left of product image */
.merchTag {
  position: absolute;
  bottom: 8px;
  left: 8px;
  padding: 3px 6px;
  font-size: 9px;
  font-family: var(--mono);
  background: rgba(255,255,255,0.06);
  color: var(--muted);
  border: 1px solid var(--line);
  border-radius: 6px;
  pointer-events: none;
  z-index: 4;
}

/* Kinetic typography animation for section headings */
.kinetic {
  display: inline-block;
  transform: translateY(20px);
  opacity: 0;
  animation: kineticIn .9s cubic-bezier(.19,1,.22,1) forwards;
}
@keyframes kineticIn {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:10px 14px;border-radius:14px;border:1px solid var(--line);
  background:rgba(255,255,255,.05);color:var(--fg);cursor:pointer;user-select:none;}
.btn:hover{background:rgba(255,255,255,.09);} .btn.primary{border-color:rgba(184,255,0,.45); background:rgba(184,255,0,.11);}
.btn.danger{border-color:rgba(255,23,68,.45); background:rgba(255,23,68,.09);} .btn.small{padding:8px 10px;border-radius:12px;font-size:13px;}
.btn:disabled{opacity:.55;cursor:not-allowed;}

/* Ticket stub button style */
.btn.ticket {
  position: relative;
  border-radius: 4px;
  padding: 10px 18px;
  border: 1px solid var(--accent);
  background: rgba(184,255,0,0.1);
  color: var(--bg);
  font-weight: 600;
}
.btn.ticket:before,
.btn.ticket:after {
  content: "";
  position: absolute;
  top: 50%;
  width: 8px;
  height: 8px;
  background: var(--bg);
  border: 1px solid var(--accent);
  border-radius: 50%;
  transform: translateY(-50%);
}
.btn.ticket:before { left: -5px; }
.btn.ticket:after { right: -5px; }
.input{width:100%;padding:10px 12px;border-radius:14px;border:1px solid var(--line);background:rgba(0,0,0,.25);color:var(--fg);}
.label{font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);}
.h1{font-size:44px;line-height:1.05;margin:0 0 12px;font-weight:900;letter-spacing:-.02em;}
.h2{font-size:22px;margin:0 0 10px;font-weight:800;}
.p{margin:0;color:var(--muted);line-height:1.6;} .small{font-size:13px;color:var(--muted);line-height:1.55;font-family:var(--mono);}
hr{border:0;border-top:1px solid var(--line);margin:24px 0;}
.kbd{font-family:var(--mono);border:1px solid var(--line);border-bottom-width:2px;padding:1px 6px;border-radius:8px;background:rgba(255,255,255,.04);}

.glitch{position:relative;display:inline-block;}
.glitch:before,.glitch:after{content:attr(data-text);position:absolute;left:0;top:0;width:100%;opacity:.75;pointer-events:none;}
.glitch:before{transform:translate(2px,-1px);color:var(--accent);mix-blend-mode:screen;}
.glitch:after{transform:translate(-2px,1px);color:var(--danger);mix-blend-mode:screen;}
@keyframes glitchClip{
  0%{clip-path:inset(0 0 95% 0);}10%{clip-path:inset(10% 0 70% 0);}20%{clip-path:inset(80% 0 0 0);}
  30%{clip-path:inset(40% 0 40% 0);}40%{clip-path:inset(0 0 60% 0);}50%{clip-path:inset(55% 0 10% 0);}
  60%{clip-path:inset(10% 0 65% 0);}70%{clip-path:inset(85% 0 0 0);}80%{clip-path:inset(20% 0 60% 0);}
  90%{clip-path:inset(0 0 80% 0);}100%{clip-path:inset(0 0 95% 0);}
}
.glitch.glitching:before,.glitch.glitching:after{animation: glitchClip .8s steps(2,end) infinite;}

.scanlines{position:fixed;inset:0;pointer-events:none;z-index:10;background: repeating-linear-gradient(to bottom,rgba(255,255,255,.03) 0px,rgba(255,255,255,.03) 1px,rgba(0,0,0,0) 2px,rgba(0,0,0,0) 6px);opacity:.35;}
.noise{position:fixed;inset:-40px;pointer-events:none;z-index:9;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");mix-blend-mode:overlay;opacity:var(--noiseOpacity,.08);animation: noiseMove 8s linear infinite;}
@keyframes noiseMove{0%{transform:translate(0,0);}25%{transform:translate(-12px,8px);}50%{transform:translate(14px,-10px);}75%{transform:translate(10px,14px);}100%{transform:translate(0,0);}}

body.rage{animation: rageShake .45s infinite;filter: saturate(1.15) contrast(1.05);}
@keyframes rageShake{0%{transform:translate(0,0);}25%{transform:translate(1px,-1px);}50%{transform:translate(-1px,1px);}75%{transform:translate(2px,1px);}100%{transform:translate(0,0);}}
.rageBanner{position:fixed;left:12px;bottom:12px;z-index:1000;padding:8px 10px;border-radius:12px;border:1px solid rgba(255,23,68,.45);background:rgba(255,23,68,.1);font-family:var(--mono);font-size:12px;}

.reveal{opacity:0;transform:translateY(12px);transition:opacity .5s ease, transform .5s ease;}
.reveal.in{opacity:1;transform:translateY(0);}

.modalBack{position:fixed;inset:0;z-index:2000;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;padding:16px;}
.modal{width:min(980px, 100%);max-height:min(84vh, 820px);overflow:auto;background:rgba(8,8,10,.92);border:1px solid rgba(255,255,255,.12);border-radius:22px;box-shadow:0 30px 70px rgba(0,0,0,.7);backdrop-filter: blur(8px);}
.modalHeader{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px 16px;border-bottom:1px solid var(--line);position:sticky;top:0;background:rgba(8,8,10,.92);}
.modalBody{padding:14px 16px;}

.hero{position:relative;overflow:hidden;border-radius:24px;border:1px solid rgba(255,255,255,.14);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));}
.hero .overlay{position:absolute;inset:0;pointer-events:none;background: radial-gradient(circle at 20% 20%, rgba(184,255,0,.18), transparent 45%),radial-gradient(circle at 80% 30%, rgba(255,23,68,.16), transparent 55%),radial-gradient(circle at 50% 90%, rgba(255,255,255,.10), transparent 55%);mix-blend-mode: screen;opacity:.55;}
.hero video,.hero .fallback{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter: contrast(1.05) saturate(0.95) brightness(0.9);}
.hero .vhs{position:absolute;inset:0;pointer-events:none;background:linear-gradient(90deg, rgba(0,255,255,.06), transparent 35%, rgba(255,0,0,.06));mix-blend-mode:overlay;opacity:.35;animation:vhsShift 4.5s linear infinite;}
@keyframes vhsShift{0%{transform:translateX(-12px);}50%{transform:translateX(12px);}100%{transform:translateX(-12px);}}
.hero .content{position:relative;padding:26px;}
.hero .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
.hero .logo3d{width:52px;height:52px;border-radius:14px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.05);display:grid;place-items:center;transform-style:preserve-3d;animation: spinLogo 4s linear infinite;}
@keyframes spinLogo{0%{transform:rotateY(0deg) rotateX(0deg);}100%{transform:rotateY(360deg) rotateX(360deg);}}
.hero .logo3d img{width:34px;height:34px;filter:drop-shadow(0 8px 10px rgba(0,0,0,.7));}

.tilt{transform: perspective(900px) rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg));transition: transform .12s ease;}
.sweep{position:absolute;inset:0;pointer-events:none;border-radius:16px;overflow:hidden;}
.sweep:before{content:"";position:absolute;inset:-40%;background: radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(255,255,255,.20), transparent 48%);transform: rotate(12deg);opacity:.9;}
.imgGuard{position:relative;user-select:none;} .imgGuard img{-webkit-user-drag:none;}
.imgGuard:after{content:"";position:absolute;inset:0;background:transparent;}

@media (pointer:fine){
  body.hideCursor{cursor:none;}
  .cursorDot,.cursorRing{position:fixed;left:0;top:0;z-index:5000;pointer-events:none;transform:translate(-50%,-50%);}
  .cursorDot{width:8px;height:8px;border-radius:999px;background:var(--accent);mix-blend-mode:screen;}
  .cursorRing{width:36px;height:36px;border-radius:999px;border:1px solid rgba(184,255,0,.35);backdrop-filter: blur(2px);}
  .trailDot{position:fixed;left:0;top:0;z-index:4999;pointer-events:none;width:6px;height:6px;border-radius:999px;background:rgba(184,255,0,.12);}
}
body.theme-VHS{--accent:#b8ff00;}
body.theme-GRUNGE{--accent:#00e5ff;}
body.theme-CLEAN{--accent:#ffffff;}

/* Stage lights overlay: subtle moving radial gradients sweeping horizontally */
.stageLights {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 5;
  background: radial-gradient(circle at 10% 20%, rgba(184,255,0,.09), transparent 60%),
              radial-gradient(circle at 80% 70%, rgba(255,23,68,.07), transparent 60%);
  animation: stageSweep 12s linear infinite;
  mix-blend-mode: screen;
}
@keyframes stageSweep {
  0% { transform: translateX(-20%); }
  50% { transform: translateX(20%); }
  100% { transform: translateX(-20%); }
}

/* Bottom navigation bar for mobile */
.bottomNav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 8px 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(6px);
  z-index: 1000;
}
.bottomNav a {
  color: var(--accent);
  font-weight: 600;
  font-size: 14px;
  text-decoration: none;
}

/* Mini cart summary bar. It floats above the bottom nav when items are in cart */
.miniCart {
  position: fixed;
  bottom: 72px;
  left: 0;
  right: 0;
  z-index: 900;
  display: flex;
  justify-content: center;
  pointer-events: none;
}
.miniCart-content {
  background: rgba(7,7,9,0.92);
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 8px 14px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.5);
  pointer-events: all;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
.miniCart-item {
  font-size: 12px;
  font-family: var(--mono);
  color: var(--accent);
}
.miniCart-total {
  font-size: 13px;
  font-weight: 700;
  font-family: var(--mono);
}

/* Before/After slider styles */
.beforeAfter {
  position: relative;
  overflow: hidden;
  border: 1px solid var(--line);
  border-radius: 16px;
  width: 100%;
  height: 320px;
  margin-top: 4px;
}
.beforeAfter-before,
.beforeAfter-after {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  background-size: cover;
  background-position: center;
}
.beforeAfter-after {
  width: 100%;
}
.beforeAfterRange {
  width: 100%;
  margin-top: 8px;
  -webkit-appearance: none;
  height: 4px;
  background: var(--line);
  border-radius: 2px;
  outline: none;
}
.beforeAfterRange::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--accent);
  cursor: grab;
  border: none;
}
.beforeAfterRange::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--accent);
  cursor: grab;
  border: none;
}
@media (min-width: 768px) {
  .bottomNav {
    display: none;
  }
}

/* Scroll progress bar */
.scrollProg {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: rgba(255, 255, 255, 0.12);
  z-index: 999;
}
.scrollProg > div {
  height: 100%;
  background: var(--accent);
  transition: width 0.1s linear;
}

/* Status ribbon */
.statusRibbon {
  position: fixed;
  top: 56px;
  right: 10px;
  background: rgba(0, 0, 0, 0.7);
  color: var(--accent);
  padding: 6px 12px;
  border-radius: 12px;
  font-size: 12px;
  text-transform: uppercase;
  z-index: 999;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
}

/* Toast notifications */
.toastContainer {
  position: fixed;
  bottom: 80px;
  left: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  z-index: 1200;
  pointer-events: none;
}

/* Grain slider control */
.grainSlider {
  position: fixed;
  bottom: 20px;
  right: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  background: rgba(0, 0, 0, 0.65);
  border: 1px solid var(--line);
  border-radius: 10px;
  z-index: 1201;
  backdrop-filter: blur(6px);
}
.grainSlider input[type="range"] {
  width: 100px;
}

/* Search bar */
.searchBar {
  position: sticky;
  top: 0;
  background: var(--bg);
  padding-bottom: 10px;
  z-index: 800;
}
.searchBar input {
  width: 100%;
}

/* Filter/sort chips */
.filterChips {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 12px;
}
.filterChips .chipGroup {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}
.filterChips .chip {
  padding: 4px 8px;
  font-size: 12px;
  border: 1px solid var(--line);
  border-radius: 12px;
  background: rgba(255,255,255,0.05);
  color: var(--muted);
  cursor: pointer;
  user-select: none;
}
.filterChips .chip.active {
  background: var(--accent);
  color: var(--bg);
  border-color: var(--accent);
}

/* Spec sheet table */
.specSheet table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 8px;
}
.specSheet .specKey {
  font-weight: 700;
  font-family: var(--mono);
  padding-right: 6px;
  text-transform: uppercase;
  color: var(--accent);
}
.specSheet td {
  padding: 4px 0;
}

/* Story strips for lookbook */
.storyStrips {
  display: flex;
  gap: 8px;
  overflow-x: auto;
  padding: 8px 0;
}
.storyStrips .storyFrame {
  flex: 0 0 auto;
  width: 80px;
  height: 120px;
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid var(--line);
  position: relative;
}
.storyStrips .storyFrame img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Mini badges for extra status labels */
.miniBadge {
  font-size: 10px;
  border: 1px solid var(--line);
  padding: 2px 6px;
  border-radius: 8px;
  background: rgba(255,255,255,0.05);
  font-family: var(--mono);
  color: var(--muted);
  user-select: none;
}

/* Coupon visual */
.couponVisual {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border: 1px dashed var(--accent);
  padding: 8px 12px;
  border-radius: 14px;
  cursor: pointer;
  background: rgba(184,255,0,0.05);
  font-family: var(--mono);
  user-select: none;
}
.couponVisual .couponLabel {
  font-size: 10px;
  color: var(--accent);
  text-transform: uppercase;
}
.couponVisual .couponCode {
  font-weight: 700;
  font-size: 16px;
  color: var(--fg);
}
.toast {
  background: rgba(0, 0, 0, 0.85);
  color: #fff;
  padding: 8px 14px;
  border-radius: 8px;
  font-size: 14px;
  pointer-events: auto;
}

/* Route transition overlay */
.routeOverlay {
  position: fixed;
  inset: 0;
  background: #070709;
  animation: glitchFade 0.4s ease-in-out;
  z-index: 1500;
  pointer-events: none;
}

/* Audio visualizer mini bars */
.audioViz {
  display: inline-flex;
  align-items: flex-end;
  gap: 3px;
  height: 16px;
  margin-left: 8px;
}
.audioViz span {
  width: 3px;
  background: var(--accent);
  display: block;
  border-radius: 2px;
  animation: audioPulse 1.5s infinite ease-in-out;
}
.audioViz span:nth-child(1) { animation-delay: 0s; }
.audioViz span:nth-child(2) { animation-delay: 0.2s; }
.audioViz span:nth-child(3) { animation-delay: 0.4s; }
.audioViz span:nth-child(4) { animation-delay: 0.6s; }
.audioViz span:nth-child(5) { animation-delay: 0.8s; }
@keyframes audioPulse {
  0%, 100% { height: 4px; opacity: 0.5; }
  40% { height: 16px; opacity: 1; }
  60% { height: 8px; opacity: 0.7; }
}

/* Marquee tape scrolling text */
.marqueeTape {
  width: 100%;
  overflow: hidden;
  background: rgba(255,255,255,0.03);
  border-top: 1px solid var(--line);
  border-bottom: 1px solid var(--line);
  white-space: nowrap;
  color: var(--muted);
  font-family: var(--mono);
  font-size: 12px;
}
.marqueeTape .tapeInner {
  display: inline-flex;
  animation: marqueeScroll 20s linear infinite;
}
.marqueeTape span {
  padding-right: 40px;
}
@keyframes marqueeScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-33.33%); }
}

/* Comparison drawer */
.compareToggle {
  position: fixed;
  bottom: 120px;
  left: 12px;
  z-index: 1201;
}
.compareDrawer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.92);
  border-top: 1px solid var(--line);
  padding: 16px;
  z-index: 1200;
  backdrop-filter: blur(8px);
}

/* Receipt style for WA builder preview */
.receipt {
  background: rgba(8,8,10,0.95);
  border: 1px dashed var(--line);
  border-radius: 12px;
}
.receiptText {
  margin: 0;
  white-space: pre-wrap;
  font-family: var(--mono);
  font-size: 12px;
  color: rgba(242,242,242,0.8);
  padding-top: 6px;
}

/* High contrast focus ring for better accessibility */
*:focus-visible {
  outline: 2px dashed var(--accent);
  outline-offset: 2px;
}

/* Typewriter effect for captions */
.typewriter {
  overflow: hidden;
  display: inline-block;
  white-space: nowrap;
  border-right: 2px solid var(--accent);
  animation: typing 3.6s steps(30, end) infinite, blink 0.8s step-end infinite;
}
@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}
@keyframes blink {
  from, to { border-color: transparent; }
  50% { border-color: var(--accent); }
}

/* Contrast lock mode: higher contrast for outdoor viewing */
body.contrastLock {
  --bg: #010101;
  --fg: #fafafa;
  --muted: rgba(255,255,255,0.85);
  --card: rgba(255,255,255,0.08);
}

/* One-hand mode: add bottom padding for easier reach on mobile */
body.oneHand .container {
  padding-bottom: 120px;
}

/* Focus product mode: hide non-product UI */
body.focusProduct .hero,
body.focusProduct .rageBanner,
body.focusProduct .statusRibbon,
body.focusProduct .scrollProg,
body.focusProduct .bottomNav,
body.focusProduct .marqueeTape,
body.focusProduct .grainSlider,
body.focusProduct .compareToggle,
body.focusProduct .compareDrawer,
body.focusProduct .pressKit,
body.focusProduct .storyStrips,
body.focusProduct .specSheet {
  display: none !important;
}
@keyframes glitchFade {
  0% {
    opacity: 0;
  }
  40% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
